# 컴포넌트 반복

## Map() 함수는 파라미터로 전달 된 함수를 사용해서 배열 내 각 요소를 원하는 규칙에 따라 변환한 후 그 결과로 새로운 배열을 생성합니다.

const a = [1,2,3,4,5]
const c = a.map(function(num) {
    return num * num
})

console.log(c) 

# key
- 리액트에서 key는 컴포넌트 배열을 렌더링했을 때 어떤 원소에 변동이 있었는지 알아내려고 사용합니다.
- key가 없을 땐 Virtual DOM을 비교하는 과정에서 리스트를 순차적으로 비교하면서 변화를 감지해내는데 key가 있다면 이 값을 사용하여 어떤 변화가 일어났는지 더욱 빠르게 알아낼 수 있다.
- map함수의 두번째 인자인 idx를 사용할 땐 고유한 값이 없을 때만 index 값을 key값으로 사용해야 합니다. index를 key로 사용하면 배열이 변경될 때 효율적으로 리렌더링 하지 못합니다.

- 배열에 새 항목을 추가할 때 배열의 push함수를 사용하지 않고, concat을 사용했는데 이 이유는 push함수는 기존 배열 자체를 변경해 주는 반면, concat은 새로운 배열을 만들어 준다는 차이점이 있습니다.

- 리액트에서 상태를 업데이트 할 때는 기존 상태를 그대로 두면서 새로운 값을 상태로 설정해야합니다 이를 불변성의 유지라고 합니다.

- 불변성을 유지해줘야 나중에 리액트 컴포넌트의 성능을 최적화 할 수 있습니다.


# 데이터 추가, 제거
1. 배열안에 데이터를 추가할 때 불변성을 유지하기 위해 concat 함수를 사용하여 불변성을 유지해 준다.
2. 불변성을 유지하면서 배열의 특정 항목을 지울 때는 배열의 내장 함수 filter를 사용합니다.


# 정리
- 컴포넌트 배열을 랜더링 할 때는 key 값 설정에 항상 주의해야 합니다. 또 key 값은 언제나 유일해야 합니다. 
- 상태 안에서 배열을 변형할 때는 배열에 직접 접근하여 수정하는 것이 아니라 concat,filter등의 배열 내장 함수를 사용하여 새로운 배열을 만든 후 이를 새로운 상태로 설정해 주어야합니다.